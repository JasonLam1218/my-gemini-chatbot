<!DOCTYPE html>
<html>
  <head><title>Chatbot Test</title></head>
  <body>
    <input type="text" id="msg" placeholder="Type a message...">
    <button onclick="send()">Send</button>
    <div id="out"></div>
    <script>
      async function send() {
        const txt = document.getElementById('msg').value;
        if (!txt) return;
        const t0 = performance.now();
        const res = await fetch('/api/chatbot', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ message: txt })
        });
        const t1 = performance.now();
        const data = await res.json();
        document.getElementById('out').innerHTML =
          "<b>Bot:</b> " + data.response + "<br><b>Delay:</b> " + ((t1 - t0) / 1000).toFixed(2) + " s";
      }
    </script>
  </body>
</html>
